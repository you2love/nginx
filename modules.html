<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nginx æ’ä»¶ç³»ç»Ÿ - ç¬¬ä¸‰æ–¹æ¨¡å—æŒ‡å—</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .plugin-card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.12);
            border-left: 5px solid #667eea;
            transition: all 0.3s;
        }
        .plugin-card:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        .plugin-card h3 {
            margin: 0 0 15px 0;
            color: #667eea;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 10px;
        }
        .plugin-rank {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 12px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
        }
        .plugin-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        .plugin-tag {
            padding: 4px 12px;
            background: #e8eaf6;
            color: #5c6bc0;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        .plugin-tag.official {
            background: #e3f2fd;
            color: #1976d2;
        }
        .plugin-tag.community {
            background: #fff3e0;
            color: #f57c00;
        }
        .plugin-card p {
            color: #555;
            line-height: 1.9;
            margin: 15px 0;
        }
        .install-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .install-section h4 {
            margin: 0 0 15px 0;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .install-section code {
            display: block;
            background: #2d3748;
            color: #68d391;
            padding: 12px 16px;
            border-radius: 6px;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 15px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }
        .feature-list li {
            padding: 10px 15px;
            background: #f0f4ff;
            border-radius: 6px;
            color: #4a5568;
            font-size: 14px;
        }
        .feature-list li::before {
            content: 'âœ“';
            color: #4caf50;
            font-weight: bold;
            margin-right: 8px;
        }
        .config-example {
            background: #1e1e2e;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .config-example h4 {
            margin: 0 0 15px 0;
            color: #a6accd;
        }
        .config-example pre {
            margin: 0;
            color: #a6accd;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.8;
            overflow-x: auto;
        }
        .config-example .keyword { color: #bb9af7; }
        .config-example .directive { color: #7aa2f7; }
        .config-example .value { color: #9ece6a; }
        .config-example .comment { color: #565f89; }
        .warning-box {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 20px;
            border-radius: 6px;
            margin: 25px 0;
        }
        .warning-box strong {
            color: #e65100;
        }
        .tip-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 20px;
            border-radius: 6px;
            margin: 25px 0;
        }
        .tip-box strong {
            color: #2e7d32;
        }
        .plugin-category {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px 30px;
            border-radius: 10px;
            margin: 40px 0 25px 0;
        }
        .plugin-category h3 {
            margin: 0;
            color: white;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .comparison-table th, .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e8eaed;
        }
        .comparison-table th {
            background: #546e7a;
            color: white;
            font-weight: 600;
        }
        .comparison-table tr:hover {
            background: #f5f5f5;
        }
        .stars {
            color: #ffc107;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Nginx æ·±åº¦å­¦ä¹ </h1>
                <p class="tagline">æ­ç§˜å†…éƒ¨æœºåˆ¶ï¼ŒæŒæ¡æ ¸å¿ƒé…ç½®</p>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">é¦–é¡µ</a>
                <a href="mechanism.html" class="nav-link">å†…éƒ¨æœºåˆ¶</a>
                <a href="request-flow.html" class="nav-link">è¯·æ±‚å¤„ç†</a>
                <a href="directives.html" class="nav-link">æŒ‡ä»¤è¯¦è§£</a>
                <a href="configs.html" class="nav-link">åº”ç”¨é…ç½®</a>
                <a href="debug.html" class="nav-link">æ—¥å¿—è°ƒè¯•</a>
                <a href="tools.html" class="nav-link">å‘¨è¾¹å·¥å…·</a>
                <a href="modules.html" class="nav-link active">æ’ä»¶ç³»ç»Ÿ</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="section">
            <div class="container">
                <h2 class="section-title">ğŸ”Œ Nginx æ’ä»¶ç³»ç»Ÿ</h2>
                <p class="page-intro">
                    Nginx æ‹¥æœ‰ä¸°å¯Œçš„æ¨¡å—ç”Ÿæ€ç³»ç»Ÿï¼ŒåŒ…æ‹¬å®˜æ–¹æ¨¡å—å’Œç¬¬ä¸‰æ–¹æ¨¡å—ã€‚
                    ç¬¬ä¸‰æ–¹æ¨¡å—å¯ä»¥æ‰©å±• Nginx çš„åŠŸèƒ½ï¼Œæ»¡è¶³å„ç§ç‰¹æ®Šéœ€æ±‚ã€‚
                    æœ¬é¡µé¢æŒ‰çŸ¥ååº¦ä»é«˜åˆ°ä½ä»‹ç»å¸¸ç”¨çš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚
                </p>

                <div class="warning-box">
                    <strong>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</strong>
                    <ul style="margin: 10px 0 0 20px; line-height: 2;">
                        <li>ç¬¬ä¸‰æ–¹æ¨¡å—éœ€è¦é‡æ–°ç¼–è¯‘ Nginxï¼Œæ— æ³•é€šè¿‡åŒ…ç®¡ç†å™¨ç›´æ¥å®‰è£…</li>
                        <li>ä½¿ç”¨å‰è¯·ç¡®è®¤æ¨¡å—ä¸ Nginx ç‰ˆæœ¬çš„å…¼å®¹æ€§</li>
                        <li>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å‰å»ºè®®å……åˆ†æµ‹è¯•</li>
                    </ul>
                </div>

                <!-- ç¬¬ä¸€ç±»ï¼šçƒ­é—¨æ¨¡å— -->
                <div class="plugin-category">
                    <h3>ğŸ”¥ çƒ­é—¨æ¨¡å—ï¼ˆçŸ¥ååº¦ â˜…â˜…â˜…â˜…â˜…ï¼‰</h3>
                </div>

                <div class="plugin-card">
                    <h3>
                        ngx_lua (OpenResty)
                        <span class="plugin-rank">ğŸ¥‡ NO.1</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">Lua è„šæœ¬</span>
                        <span class="plugin-tag">é«˜æ€§èƒ½</span>
                    </div>
                    <p>
                        <strong>OpenResty</strong> æ˜¯åŸºäº Nginx å’Œ LuaJIT çš„ Web å¹³å°ï¼Œæ ¸å¿ƒæ˜¯ ngx_lua æ¨¡å—ã€‚
                        å®ƒå…è®¸åœ¨ Nginx ä¸­ç›´æ¥ç¼–å†™ Lua è„šæœ¬ï¼Œå®ç°å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ— éœ€é‡å¯æœåŠ¡å™¨å³å¯æ›´æ–°ä»£ç ã€‚
                        è¢« Cloudflareã€GitHub ç­‰å¤§å…¬å¸å¹¿æ³›ä½¿ç”¨ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <p>æ¨èç›´æ¥å®‰è£… OpenRestyï¼ˆå·²é›†æˆ ngx_luaï¼‰ï¼š</p>
                        <code># Ubuntu/Debian
wget -O - https://openresty.org/package/pubkey.gpg | sudo apt-key add -
sudo apt-add-repository -y "deb http://openresty.org/package/ubuntu $(lsb_release -sc) main"
sudo apt update
sudo apt install -y openresty

# æˆ–ä½¿ç”¨ Docker
docker pull openresty/openresty</code>
                    </div>
                    <ul class="feature-list">
                        <li>åœ¨ Nginx ä¸­è¿è¡Œ Lua è„šæœ¬</li>
                        <li>æé«˜çš„æ€§èƒ½ï¼ˆLuaJIT ç¼–è¯‘ï¼‰</li>
                        <li>ä¸°å¯Œçš„ API å’Œç”Ÿæ€</li>
                        <li>çƒ­ä»£ç åŠ è½½</li>
                        <li>åç¨‹æ”¯æŒ</li>
                        <li>éé˜»å¡ I/O</li>
                    </ul>
                    <div class="config-example">
                        <h4>é…ç½®ç¤ºä¾‹</h4>
                        <pre><span class="keyword">location</span> <span class="value">/hello</span> {
    <span class="directive">content_by_lua_block</span> {
        ngx.say(<span class="value">"Hello, Lua!"</span>)
    }
}

<span class="keyword">location</span> <span class="value">/api</span> {
    <span class="directive">content_by_lua_block</span> {
        <span class="keyword">local</span> cjson = <span class="keyword">require</span>(<span class="value">"cjson"</span>)
        ngx.header.content_type = <span class="value">"application/json"</span>
        ngx.say(cjson.encode({name = <span class="value">"OpenResty"</span>, version = <span class="value">"1.21"</span>}))
    }
}</pre>
                    </div>
                    <div class="tip-box">
                        <strong>ğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š</strong>API ç½‘å…³ã€WAF é˜²ç«å¢™ã€åŠ¨æ€å†…å®¹ç”Ÿæˆã€è¯·æ±‚å¤„ç†ã€è®¤è¯æˆæƒã€é™æµç†”æ–­ç­‰ã€‚
                    </div>
                </div>

                <div class="plugin-card">
                    <h3>
                        njs (Nginx JavaScript)
                        <span class="plugin-rank">ğŸ¥ˆ NO.2</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag official">å®˜æ–¹å‡ºå“</span>
                        <span class="plugin-tag">JavaScript</span>
                        <span class="plugin-tag">è½»é‡çº§</span>
                    </div>
                    <p>
                        <strong>njs</strong> æ˜¯ Nginx å®˜æ–¹æ¨å‡ºçš„ JavaScript æ¨¡å—ï¼Œå…è®¸åœ¨ Nginx é…ç½®ä¸­ä½¿ç”¨ JavaScript è„šæœ¬ã€‚
                        ä¸ ngx_lua ç±»ä¼¼ï¼Œä½†ä½¿ç”¨æ›´æµè¡Œçš„ JavaScript è¯­è¨€ï¼Œå­¦ä¹ æˆæœ¬æ›´ä½ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <p>njs å·²ä½œä¸ºåŠ¨æ€æ¨¡å—åŒ…å«åœ¨å®˜æ–¹ Nginx åŒ…ä¸­ï¼š</p>
                        <code># Ubuntu/Debian - å®‰è£… njs æ¨¡å—
sudo apt install -y libnginx-mod-http-js

# é…ç½®æ–‡ä»¶ä¸­åŠ è½½
load_module modules/ngx_http_js_module.so;

# æˆ–ä½¿ç”¨ Dockerï¼ˆå®˜æ–¹é•œåƒå·²åŒ…å«ï¼‰
docker pull nginx</code>
                    </div>
                    <ul class="feature-list">
                        <li>Nginx å®˜æ–¹æ”¯æŒ</li>
                        <li>ä½¿ç”¨ JavaScript è¯­è¨€</li>
                        <li>è½»é‡çº§è„šæœ¬å¼•æ“</li>
                        <li>ä¸ Nginx æ·±åº¦é›†æˆ</li>
                        <li>æŒç»­æ›´æ–°ç»´æŠ¤</li>
                    </ul>
                    <div class="config-example">
                        <h4>é…ç½®ç¤ºä¾‹</h4>
                        <pre><span class="comment"># åŠ è½½æ¨¡å—</span>
load_module modules/ngx_http_js_module.so;

<span class="keyword">http</span> {
    <span class="directive">js_path</span> <span class="value">"/etc/nginx/js/"</span>;
    <span class="directive">js_import</span> api from <span class="value">api.js</span>;

    <span class="keyword">location</span> <span class="value">/hello</span> {
        <span class="directive">js_content</span> api.hello;
    }
}</pre>
                        <pre><span class="comment">// api.js</span>
<span class="keyword">function</span> hello(r) {
    r.return(200, <span class="value">"Hello, JavaScript!"</span>);
}

<span class="keyword">export</span> default { hello };</pre>
                    </div>
                    <div class="tip-box">
                        <strong>ğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š</strong>è¯·æ±‚è¿‡æ»¤ã€åŠ¨æ€å“åº”ã€Header å¤„ç†ã€ç®€å•ä¸šåŠ¡é€»è¾‘ã€A/B æµ‹è¯•ç­‰ã€‚
                    </div>
                </div>

                <!-- ç¬¬äºŒç±»ï¼šå®‰å…¨æ¨¡å— -->
                <div class="plugin-category">
                    <h3>ğŸ›¡ï¸ å®‰å…¨æ¨¡å—ï¼ˆçŸ¥ååº¦ â˜…â˜…â˜…â˜…â˜†ï¼‰</h3>
                </div>

                <div class="plugin-card">
                    <h3>
                        ModSecurity
                        <span class="plugin-rank">ğŸ¥‰ NO.3</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">WAF</span>
                        <span class="plugin-tag">å®‰å…¨é˜²æŠ¤</span>
                    </div>
                    <p>
                        <strong>ModSecurity</strong> æ˜¯å¼€æºçš„ Web åº”ç”¨é˜²ç«å¢™ï¼ˆWAFï¼‰ï¼Œæœ€åˆä¸º Apache å¼€å‘ï¼Œ
                        ç°åœ¨æœ‰ Nginx ç‰ˆæœ¬ã€‚æä¾› SQL æ³¨å…¥ã€XSSã€CSRF ç­‰æ”»å‡»é˜²æŠ¤ï¼Œæ”¯æŒè‡ªå®šä¹‰è§„åˆ™ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <code># éœ€è¦ç¼–è¯‘å®‰è£…ï¼Œæˆ–ä½¿ç”¨é¢„ç¼–è¯‘åŒ…
# Ubuntu/Debian
sudo apt install -y libmodsecurity3 modsecurity

# ç¼–è¯‘å®‰è£…ï¼ˆä»æºç ï¼‰
git clone https://github.com/SpiderLabs/ModSecurity
cd ModSecurity
git submodule init && git submodule update
./build.sh
./configure --with-nginx
make
sudo make install</code>
                    </div>
                    <ul class="feature-list">
                        <li>OWASP æ ¸å¿ƒè§„åˆ™é›†</li>
                        <li>SQL æ³¨å…¥é˜²æŠ¤</li>
                        <li>XSS æ”»å‡»é˜²æŠ¤</li>
                        <li>è¯·æ±‚/å“åº”æ£€æŸ¥</li>
                        <li>IP ä¿¡èª‰æ£€æŸ¥</li>
                        <li>è¯¦ç»†æ—¥å¿—è®°å½•</li>
                    </ul>
                    <div class="config-example">
                        <h4>é…ç½®ç¤ºä¾‹</h4>
                        <pre><span class="keyword">http</span> {
    <span class="directive">modsecurity</span> <span class="value">on</span>;
    <span class="directive">modsecurity_rules_file</span> <span class="value">/etc/nginx/modsec/modsecurity.conf</span>;

    <span class="keyword">location</span> <span class="value">/</span> {
        <span class="directive">modsecurity_rules</span> <span class="value">"SecRuleEngine On"</span>;
    }
}</pre>
                    </div>
                    <div class="tip-box">
                        <strong>ğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š</strong>Web åº”ç”¨é˜²ç«å¢™ã€é˜²æ­¢ SQL æ³¨å…¥ã€XSS æ”»å‡»é˜²æŠ¤ã€CC æ”»å‡»é˜²æŠ¤ã€æ•æ„Ÿä¿¡æ¯æ³„éœ²é˜²æŠ¤ã€‚
                    </div>
                </div>

                <div class="plugin-card">
                    <h3>
                        ngx_brotli
                        <span class="plugin-rank">NO.4</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">å‹ç¼©</span>
                        <span class="plugin-tag">æ€§èƒ½ä¼˜åŒ–</span>
                    </div>
                    <p>
                        <strong>ngx_brotli</strong> æ˜¯ Google Brotli å‹ç¼©ç®—æ³•çš„ Nginx æ¨¡å—ã€‚
                        Brotli å‹ç¼©ç‡æ¯” gzip é«˜ 20-26%ï¼Œç‰¹åˆ«é€‚åˆæ–‡æœ¬èµ„æºå‹ç¼©ï¼Œ
                        å¯æ˜¾è‘—å‡å°‘ä¼ è¾“æ•°æ®é‡ï¼Œæå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <code># éœ€è¦ç¼–è¯‘å®‰è£…
git clone https://github.com/google/ngx_brotli
cd ngx_brotli
git submodule update --init

# ç¼–è¯‘ Nginx æ—¶æ·»åŠ æ¨¡å—
./configure --add-module=/path/to/ngx_brotli
make
sudo make install

# æˆ–ä½¿ç”¨ OpenResty + é¢„ç¼–è¯‘æ¨¡å—</code>
                    </div>
                    <ul class="feature-list">
                        <li>æ¯” gzip é«˜ 20-26% å‹ç¼©ç‡</li>
                        <li>æ”¯æŒåŠ¨æ€å‹ç¼©</li>
                        <li>å¤šç§å‹ç¼©çº§åˆ«</li>
                        <li>æµè§ˆå™¨å¹¿æ³›æ”¯æŒ</li>
                    </ul>
                    <div class="config-example">
                        <h4>é…ç½®ç¤ºä¾‹</h4>
                        <pre><span class="keyword">http</span> {
    <span class="directive">brotli</span> <span class="value">on</span>;
    <span class="directive">brotli_comp_level</span> <span class="value">6</span>;
    <span class="directive">brotli_types</span> <span class="value">text/plain text/css application/json application/javascript text/xml application/xml</span>;
    
    <span class="comment"># åŒæ—¶æ”¯æŒ gzipï¼ˆå…¼å®¹æ—§æµè§ˆå™¨ï¼‰</span>
    <span class="directive">gzip</span> <span class="value">on</span>;
}</pre>
                    </div>
                    <div class="tip-box">
                        <strong>ğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š</strong>é™æ€èµ„æºå‹ç¼©ã€HTML/CSS/JS å‹ç¼©ã€API å“åº”å‹ç¼©ã€æå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚
                    </div>
                </div>

                <!-- ç¬¬ä¸‰ç±»ï¼šåŠŸèƒ½æ‰©å±•æ¨¡å— -->
                <div class="plugin-category">
                    <h3>âš™ï¸ åŠŸèƒ½æ‰©å±•æ¨¡å—ï¼ˆçŸ¥ååº¦ â˜…â˜…â˜…â˜†â˜†ï¼‰</h3>
                </div>

                <div class="plugin-card">
                    <h3>
                        nginx-upstream-fair
                        <span class="plugin-rank">NO.5</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">è´Ÿè½½å‡è¡¡</span>
                        <span class="plugin-tag">æ™ºèƒ½è°ƒåº¦</span>
                    </div>
                    <p>
                        <strong>nginx-upstream-fair</strong> æä¾›æ™ºèƒ½è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œ
                        æ ¹æ®åç«¯æœåŠ¡å™¨çš„å®æ—¶è´Ÿè½½æƒ…å†µåŠ¨æ€åˆ†é…è¯·æ±‚ï¼Œé¿å…è¯·æ±‚å †ç§¯åœ¨æ…¢æœåŠ¡å™¨ä¸Šã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <code># ç¼–è¯‘å®‰è£…
git clone https://github.com/gnosek/nginx-upstream-fair
./configure --add-module=/path/to/nginx-upstream-fair
make
sudo make install</code>
                    </div>
                    <ul class="feature-list">
                        <li>æŒ‰åç«¯è´Ÿè½½åˆ†é…</li>
                        <li>é¿å…æ…¢æœåŠ¡å™¨å †ç§¯</li>
                        <li>æƒé‡é…ç½®æ”¯æŒ</li>
                    </ul>
                    <div class="config-example">
                        <h4>é…ç½®ç¤ºä¾‹</h4>
                        <pre><span class="keyword">upstream</span> <span class="value">backend</span> {
    fair;
    server 192.168.1.1:8080;
    server 192.168.1.2:8080;
    server 192.168.1.3:8080;
}

<span class="keyword">server</span> {
    <span class="keyword">location</span> <span class="value">/</span> {
        <span class="directive">proxy_pass</span> <span class="value">http://backend</span>;
    }
}</pre>
                    </div>
                </div>

                <div class="plugin-card">
                    <h3>
                        ngx_http_geoip2_module
                        <span class="plugin-rank">NO.6</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">åœ°ç†ä½ç½®</span>
                        <span class="plugin-tag">IP è¯†åˆ«</span>
                    </div>
                    <p>
                        <strong>GeoIP2</strong> æ¨¡å—æä¾›åŸºäº IP çš„åœ°ç†ä½ç½®è¯†åˆ«åŠŸèƒ½ï¼Œ
                        å¯ä»¥æ ¹æ®è®¿å®¢ IP åˆ¤æ–­å›½å®¶ã€åœ°åŒºã€åŸå¸‚ç­‰ä¿¡æ¯ï¼Œç”¨äºåŒºåŸŸé™åˆ¶ã€å†…å®¹æœ¬åœ°åŒ–ç­‰åœºæ™¯ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <code># éœ€è¦ MaxMind GeoIP2 æ•°æ®åº“
sudo apt install -y libmaxminddb-dev libmaxminddb0

# ç¼–è¯‘æ¨¡å—
git clone https://github.com/leev/ngx_http_geoip2_module
./configure --add-module=/path/to/ngx_http_geoip2_module
make
sudo make install

# ä¸‹è½½ GeoIP2 æ•°æ®åº“
wget https://github.com/P3TERX/GeoLite.mmdb/raw/download/GeoLite2-Country.mmdb</code>
                    </div>
                    <ul class="feature-list">
                        <li>IP åœ°ç†ä½ç½®è¯†åˆ«</li>
                        <li>æ”¯æŒå›½å®¶/åœ°åŒº/åŸå¸‚</li>
                        <li>ISP å’Œç½‘ç»œç±»å‹è¯†åˆ«</li>
                        <li>ä½å†…å­˜å ç”¨</li>
                    </ul>
                    <div class="config-example">
                        <h4>é…ç½®ç¤ºä¾‹</h4>
                        <pre><span class="keyword">http</span> {
    <span class="directive">geoip2</span> <span class="value">/etc/nginx/GeoLite2-Country.mmdb</span> {
        <span class="directive">auto_reload</span> <span class="value">5m</span>;
        $geoip2_data_country_code country iso_code;
    }

    <span class="comment"># åªå…è®¸ä¸­å›½è®¿é—®</span>
    <span class="keyword">location</span> <span class="value">/</span> {
        <span class="directive">allow</span> <span class="value">CN</span>;
        <span class="directive">deny</span> <span class="value">all</span>;
    }
}</pre>
                    </div>
                </div>

                <!-- ç¬¬å››ç±»ï¼šå…¶ä»–å®ç”¨æ¨¡å— -->
                <div class="plugin-category">
                    <h3>ğŸ”§ å…¶ä»–å®ç”¨æ¨¡å—ï¼ˆçŸ¥ååº¦ â˜…â˜…â˜†â˜†â˜†ï¼‰</h3>
                </div>

                <div class="plugin-card">
                    <h3>
                        nginx-rtmp-module
                        <span class="plugin-rank">NO.7</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">æµåª’ä½“</span>
                        <span class="plugin-tag">RTMP</span>
                    </div>
                    <p>
                        <strong>nginx-rtmp-module</strong> ä¸º Nginx æ·»åŠ  RTMP/HLS/DASHæµåª’ä½“æ”¯æŒï¼Œ
                        å¯ä»¥æ­å»ºç›´æ’­æœåŠ¡å™¨ã€è§†é¢‘ç‚¹æ’­å¹³å°ã€‚æ”¯æŒè½¬ç ã€å½•åˆ¶ã€ç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <code># éœ€è¦ FFmpeg æ”¯æŒ
sudo apt install -y ffmpeg

# ç¼–è¯‘å®‰è£…
git clone https://github.com/arut/nginx-rtmp-module
./configure --add-module=/path/to/nginx-rtmp-module
make
sudo make install</code>
                    </div>
                    <ul class="feature-list">
                        <li>RTMP/HLS/DASHæ”¯æŒ</li>
                        <li>ç›´æ’­æ¨æµ/æ‹‰æµ</li>
                        <li>è§†é¢‘å½•åˆ¶</li>
                        <li>å®æ—¶ç»Ÿè®¡</li>
                    </ul>
                </div>

                <div class="plugin-card">
                    <h3>
                        lua-resty-http
                        <span class="plugin-rank">NO.8</span>
                    </h3>
                    <div class="plugin-tags">
                        <span class="plugin-tag community">ç¤¾åŒºé©±åŠ¨</span>
                        <span class="plugin-tag">Lua åº“</span>
                        <span class="plugin-tag">HTTP å®¢æˆ·ç«¯</span>
                    </div>
                    <p>
                        <strong>lua-resty-http</strong> æ˜¯ OpenResty çš„ HTTP å®¢æˆ·ç«¯åº“ï¼Œ
                        ç”¨äºåœ¨ Lua è„šæœ¬ä¸­å‘èµ· HTTP è¯·æ±‚ï¼Œå¸¸ç”¨äº API è°ƒç”¨ã€æœåŠ¡é—´é€šä¿¡ç­‰åœºæ™¯ã€‚
                    </p>
                    <div class="install-section">
                        <h4>ğŸ“¦ å®‰è£…æ–¹å¼</h4>
                        <code># ä½¿ç”¨ luarocks å®‰è£…
luarocks install lua-resty-http

# æˆ–åœ¨ OpenResty ä¸­ç›´æ¥ä½¿ç”¨
# é€šå¸¸å·²é¢„è£…</code>
                    </div>
                </div>

                <!-- æ¨¡å—å¯¹æ¯”è¡¨ -->
                <h3 style="margin-top: 40px;">ğŸ“Š æ¨¡å—å¯¹æ¯”æ€»è§ˆ</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>æ¨¡å—åç§°</th>
                            <th>ç±»å‹</th>
                            <th>çŸ¥ååº¦</th>
                            <th>å®‰è£…éš¾åº¦</th>
                            <th>ä¸»è¦ç”¨é€”</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ngx_lua (OpenResty)</strong></td>
                            <td>è„šæœ¬å¼•æ“</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜…â˜…</span></td>
                            <td>â­â­</td>
                            <td>ä¸šåŠ¡é€»è¾‘ã€API ç½‘å…³</td>
                        </tr>
                        <tr>
                            <td><strong>njs</strong></td>
                            <td>è„šæœ¬å¼•æ“</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜…â˜†</span></td>
                            <td>â­</td>
                            <td>è¯·æ±‚å¤„ç†ã€åŠ¨æ€å“åº”</td>
                        </tr>
                        <tr>
                            <td><strong>ModSecurity</strong></td>
                            <td>å®‰å…¨ WAF</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜…â˜†</span></td>
                            <td>â­â­â­â­</td>
                            <td>Web åº”ç”¨é˜²ç«å¢™</td>
                        </tr>
                        <tr>
                            <td><strong>ngx_brotli</strong></td>
                            <td>å‹ç¼©</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜…â˜†</span></td>
                            <td>â­â­â­â­</td>
                            <td>èµ„æºå‹ç¼©ä¼˜åŒ–</td>
                        </tr>
                        <tr>
                            <td><strong>nginx-upstream-fair</strong></td>
                            <td>è´Ÿè½½å‡è¡¡</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜†â˜†</span></td>
                            <td>â­â­â­</td>
                            <td>æ™ºèƒ½è´Ÿè½½è°ƒåº¦</td>
                        </tr>
                        <tr>
                            <td><strong>ngx_http_geoip2</strong></td>
                            <td>åœ°ç†ä½ç½®</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜†â˜†</span></td>
                            <td>â­â­â­</td>
                            <td>IP åœ°åŸŸè¯†åˆ«</td>
                        </tr>
                        <tr>
                            <td><strong>nginx-rtmp-module</strong></td>
                            <td>æµåª’ä½“</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜†â˜†</span></td>
                            <td>â­â­â­â­</td>
                            <td>ç›´æ’­/ç‚¹æ’­</td>
                        </tr>
                        <tr>
                            <td><strong>lua-resty-http</strong></td>
                            <td>HTTP å®¢æˆ·ç«¯</td>
                            <td><span class="stars">â˜…â˜…â˜…â˜†â˜†</span></td>
                            <td>â­â­</td>
                            <td>æœåŠ¡é—´é€šä¿¡</td>
                        </tr>
                    </tbody>
                </table>

                <!-- ç¼–è¯‘æŒ‡å— -->
                <h3 style="margin-top: 40px;">ğŸ”¨ ç¼–è¯‘å®‰è£…æŒ‡å—</h3>
                <div class="tip-box">
                    <strong>ğŸ“‹ é€šç”¨ç¼–è¯‘æ­¥éª¤ï¼š</strong>
                    <ol style="margin: 15px 0 0 20px; line-height: 2.2;">
                        <li>ä¸‹è½½ Nginx æºç ï¼š<code>wget https://nginx.org/download/nginx-1.24.0.tar.gz</code></li>
                        <li>è§£å‹æºç ï¼š<code>tar -xzf nginx-1.24.0.tar.gz</code></li>
                        <li>å…‹éš†ç¬¬ä¸‰æ–¹æ¨¡å—ï¼š<code>git clone https://github.com/xxx/module</code></li>
                        <li>é…ç½®ç¼–è¯‘é€‰é¡¹ï¼š<code>./configure --add-module=/path/to/module</code></li>
                        <li>ç¼–è¯‘å®‰è£…ï¼š<code>make && sudo make install</code></li>
                    </ol>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Nginx æ·±åº¦å­¦ä¹ ã€‚æ·±å…¥å­¦ä¹  Nginx å†…éƒ¨æœºåˆ¶ä¸é…ç½®å®è·µã€‚</p>
        </div>
    </footer>
</body>
</html>
